(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,a,t){e.exports=t(262)},262:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"fetchUser",function(){return O}),t.d(n,"createUser",function(){return N}),t.d(n,"authUser",function(){return _});var r=t(0),o=t.n(r),l=t(106),s=t.n(l),i=t(10),c=t(6),u=t(108),m=t(18),p=t(19),d=t(22),h=t(20),f=t(23),b=t(264),g=t(265),E=t(26),w=t.n(E),v=t(54),j=t(55),y=t.n(j),O=function(){return function(){var e=Object(v.a)(w.a.mark(function e(a){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/current_user");case 2:t=e.sent,a({type:"FETCH_USER",payload:t.data});case 4:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()},N=function(e){return function(){var a=Object(v.a)(w.a.mark(function a(t){return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:y.a.post("register/new",e).then(function(e){console.log(e)}).catch(function(e){console.log(e)});case 1:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()},_=function(e){return function(){var a=Object(v.a)(w.a.mark(function a(t){return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:y.a.post("/login",e).then(function(e){console.log("success",e)}).catch(function(e){console.log("failure",e)});case 1:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()},k=t(38),U=t(35),L=t(103),S=t(104),P=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).renderInput=function(e){var a=e.input,n=e.label,r=e.type,l=e.meta;return o.a.createElement("div",{className:"header_login-panel--input"},o.a.createElement("label",{className:""},n),o.a.createElement("br",null),o.a.createElement("input",Object.assign({},a,{autoComplete:"off",className:"",type:r})),t.renderError(l))},t.onSubmit=function(e,a){var n={userName:e.userName,password:e.password};t.props.authUser(n),a(Object(U.a)("authUser"))},t.state={displayLogin:!1},t.displayLoginForm=t.displayLoginForm.bind(Object(k.a)(Object(k.a)(t))),t}return Object(f.a)(a,e),Object(p.a)(a,[{key:"renderError",value:function(e){var a=e.error;if(e.touched&&a)return o.a.createElement("div",{className:""},a)}},{key:"displayLoginForm",value:function(){this.setState({displayLogin:!this.state.displayLogin})}},{key:"renderLoginForm",value:function(){if(!0===this.state.displayLogin)return o.a.createElement("div",{className:"header_login-panel"},o.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit)},o.a.createElement(L.a,{name:"userName",component:this.renderInput,label:"Username:"}),o.a.createElement(L.a,{name:"password",type:"password",component:this.renderInput,label:"Password:"}),o.a.createElement("button",{type:"submit",className:"header_login-panel--btn"},"Submit")))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"header_login item",onClick:this.displayLoginForm},"Login"),this.renderLoginForm())}}]),a}(r.Component),C=Object(S.a)({form:"authUser",validate:function(e){var a={};return e.userName||(a.userName="Username is required."),e.password||(a.password="Password is required."),a}})(P),x=Object(i.b)(null,{authUser:_})(C),F=function(e){function a(){return Object(m.a)(this,a),Object(d.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(p.a)(a,[{key:"renderLogin",value:function(){switch(this.props.auth){case null:return;case!1:return o.a.createElement(x,null);default:return o.a.createElement("div",{className:"header_login item"},o.a.createElement("a",{href:"/api/logout"},"Logout"))}}},{key:"render",value:function(){return o.a.createElement("header",{className:"header"},o.a.createElement("object",{className:"header_logo",type:"image/svg+xml",data:"images/plus_text_logo.svg",height:"50",width:"50"},o.a.createElement("img",{src:"images/plus_text_logo.svg",alt:"ProjectPLUS Logo"})),this.renderLogin())}}]),a}(r.Component);var I=Object(i.b)(function(e){return{auth:e.auth}})(F),q=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(d.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).renderInput=function(e){var a=e.input,n=e.label,r=e.type,l=e.meta;return o.a.createElement("div",{className:"landing_panel-row--div"},o.a.createElement("label",{className:"landing_panel-row--label"},n),o.a.createElement("br",null),o.a.createElement("input",Object.assign({},a,{autoComplete:"off",className:"landing_panel-row--input",type:r})),t.renderError(l))},t.onSubmit=function(e,a){var n={firstName:e.firstName,email:e.email,password:e.password};t.props.createUser(n),a(Object(U.a)("createUser"))},t}return Object(f.a)(a,e),Object(p.a)(a,[{key:"renderError",value:function(e){var a=e.error;if(e.touched&&a)return o.a.createElement("div",{className:"landing_panel-row--error"},a)}},{key:"render",value:function(){return o.a.createElement("div",{className:"landing"},o.a.createElement("div",{className:"landing_panel"},o.a.createElement("div",{className:"landing_panel-row"},o.a.createElement("object",{className:"landing_panel-row--logo",type:"image/svg+xml",data:"images/plus_logo.svg",height:"50",width:"50"},o.a.createElement("img",{src:"images/plus_logo.svg",alt:"ProjectPLUS Logo"})),o.a.createElement("div",{className:"landing_panel-row--intro"},o.a.createElement("span",null,"Welcome to Project Plus,"),o.a.createElement("br",null),"Manage group projects is now a breeze with Project Plus, sign up for an account and make your next project easier to coordinate for FREE. This application is a project by Daniel Clayton, find more of my work here.")),o.a.createElement("div",{className:"landing_panel-row landing_panel-row-two"},o.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit)},o.a.createElement("h1",null,"Sign Up"),o.a.createElement(L.a,{name:"firstName",component:this.renderInput,label:"Username:"}),o.a.createElement(L.a,{name:"email",component:this.renderInput,label:"Email:"}),o.a.createElement(L.a,{name:"password",type:"password",component:this.renderInput,label:"Password:"}),o.a.createElement(L.a,{name:"confirmPassword",type:"password",component:this.renderInput,label:"Confirm password:"}),o.a.createElement("button",{type:"submit",className:"landing_panel-row--btn"},"Submit")),o.a.createElement("div",{className:"landing_panel-row-subpanel"},o.a.createElement("span",{className:"landing_panel-row-subpanel--link facebook"},"Continue with Facebook"),o.a.createElement("span",{className:"landing_panel-row-subpanel--link google"},o.a.createElement("a",{href:"/auth/google"},"Continue with Google"))))))}}]),a}(r.Component),T=Object(S.a)({form:"createUser",validate:function(e){var a={};return e.firstName||(a.firstName="First name is required."),e.email||(a.email="Email is required."),e.password||(a.password="Password is required."),e.password!==e.confirmPassword&&(a.confirmPassword="Passwords entered do not match."),a}})(q),D=Object(i.b)(null,{createUser:N})(T),R=function(e){function a(){return Object(m.a)(this,a),Object(d.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b.a,null,o.a.createElement("div",null,o.a.createElement(I,null),o.a.createElement(g.a,{exact:!0,path:"/",component:D}))))}}]),a}(r.Component),M=Object(i.b)(null,n)(R),H=t(105),J=Object(c.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_USER":return a.payload||!1;default:return e}},form:H.a}),X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,z=Object(c.e)(J,{},X(Object(c.a)(u.a)));s.a.render(o.a.createElement(i.a,{store:z},o.a.createElement(M,null)),document.getElementById("root"))}},[[135,2,1]]]);
//# sourceMappingURL=main.1683ac60.chunk.js.map